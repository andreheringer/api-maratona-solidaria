<div #tooltip class="tooltip"></div>
<main class="main">
  <app-header></app-header>
  <div class="content">
    <ngb-accordion class="accordion" [closeOthers]="true" activeIds="static-1">
      <ngb-panel id="static-1">
        <ng-template ngbPanelHeader class="painel">Doação</ng-template>
        <ng-template ngbPanelContent>
          <section class="filter">
            <select class="form-item" [(ngModel)]="teamId">
              <option *ngFor="let prod of allTeams" [ngValue]="prod.id">
                {{ prod.name }}
              </option>
            </select>
            <button (click)="clearFilter()" class="clear-button">Limpar</button>
            <button (click)="filterDonations()" class="apply-button">Filtrar</button>
          </section>

          <div class="table-body">
            <div class="table-header">
              <div class="item1" >
                <span class="table-header-item">Item</span>
              </div>
              <div class="item2" >
                <span class="table-header-item">Doação</span>
              </div>
              <div class="item2" >
                <span class="table-header-item">Aluno</span>
              </div>
              <div class="item3" >
                <span class="table-header-item">Pontos</span>
              </div><div class="item4" >
              </div>
            </div>
            <li
              class="item-row"
              [ngClass]=" isEven(i) ? 'item-even' : 'item-odd'"
              *ngFor="let donation of allDonations ; let i = index"
            >
              <div class="item1" >
                <span class="item-value">{{donation.representante.curso.acronime}}</span>
              </div>
              <div class="item2" >
                <span class="item-value">{{donation.doacao}}</span>
              </div>
              <div class="item2" >
                <span class="item-value">{{donation.representante.nome}}</span>
              </div>
              <div class="item3" >
                <span class="item-value">{{donation.pontuacao}}</span>
              </div>
              <div class="item4">
                <button *ngIf="!donation.confirmado" type="button" (click)="confirmDonation(donation.id)" class="confirmation-button" placement="top" ngbTooltip="Confirmar!" >
                  <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi-bi-check" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                  </svg>
                </button>
                <button *ngIf="donation.confirmado" type="button" (click)="confirmDonation(donation.id)" class="confirmation-button" placement="top" ngbTooltip="Cancelar!" >
                  <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                  </svg>
                </button>
              </div>
            </li>
          </div>
        </ng-template>
      </ngb-panel>
      <ngb-panel id="static-2" title="Alunos" [disabled]="true">
        <ng-template ngbPanelContent> </ng-template>
      </ngb-panel>
    </ngb-accordion>
  </div>
</main>
